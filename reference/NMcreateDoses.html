<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Easily and flexibly generate dosing records — NMcreateDoses • NMsim</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Easily and flexibly generate dosing records — NMcreateDoses"><meta name="description" content="Columns will be extended by repeating last value of the column if
needed in order to match length of other columns. Combinations of
different columns can be generated by specifying covariates on the
columns where the regimens differ."><meta property="og:description" content="Columns will be extended by repeating last value of the column if
needed in order to match length of other columns. Combinations of
different columns can be generated by specifying covariates on the
columns where the regimens differ."><meta name="google-site-verification" content="-8n-8OfzJii_lVruWfxXOhzUATKSgMdiSxMhOQoscu4"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NMsim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/NMsim-intro.html">NMsim Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-VPC.html">Simulations for VPCs</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-config.html">Requirements and Configuration</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-known.html">Simulate Known Subjects</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-ParamUncertain.html">Simulations with Parameter Uncertainty</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-forest.html">Simulation-based forest plots with NMsim</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-DataCreate.html">Data Set Creation with NMsim</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-ResidVar.html">Simulation with Residual Variability</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-varyPars.html">Simulate Models with Modifications</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-ReuseSimSubjects.html">Reuse Simulated Subjects</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-speed.html">Debugging, Speed, and Disk Space</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/NMsim-publications.html">Publications</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NMautoverse/NMsim/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NMautoverse/NMsim/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Easily and flexibly generate dosing records</h1>
      <small class="dont-index">Source: <a href="https://github.com/NMautoverse/NMsim/blob/main/R/NMcreateDoses.R" class="external-link"><code>R/NMcreateDoses.R</code></a></small>
      <div class="d-none name"><code>NMcreateDoses.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Columns will be extended by repeating last value of the column if
needed in order to match length of other columns. Combinations of
different columns can be generated by specifying covariates on the
columns where the regimens differ.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">NMcreateDoses</span><span class="op">(</span></span>
<span>  <span class="va">TIME</span>,</span>
<span>  <span class="va">AMT</span>,</span>
<span>  EVID <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  CMT <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ADDL <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  II <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  RATE <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  SS <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addl.lastonly <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  col.id <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span>  <span class="va">as.fun</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-time">TIME<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>The time of the dosing events. Required.</p></dd>


<dt id="arg-amt">AMT<a class="anchor" aria-label="anchor" href="#arg-amt"></a></dt>
<dd><p>vector or data.frame with amounts amount. Required.</p></dd>


<dt id="arg-evid">EVID<a class="anchor" aria-label="anchor" href="#arg-evid"></a></dt>
<dd><p>The event ID to use for doses. Default is to use
EVID=1, but EVID might also be wanted.</p></dd>


<dt id="arg-cmt">CMT<a class="anchor" aria-label="anchor" href="#arg-cmt"></a></dt>
<dd><p>Compartment number. Default is to dose into CMT=1. Use
`CMT=NA` or `CMT=NULL` to omit in result.</p></dd>


<dt id="arg-addl">ADDL<a class="anchor" aria-label="anchor" href="#arg-addl"></a></dt>
<dd><p>Number of additional dose events. Must be in
combination with and consistent with II. Notice if of length
1, only applied to last event in each regimen.</p></dd>


<dt id="arg-ii">II<a class="anchor" aria-label="anchor" href="#arg-ii"></a></dt>
<dd><p>Dosing frequency of additional events specified in
`ADDL`. See `ADDL` too.</p></dd>


<dt id="arg-rate">RATE<a class="anchor" aria-label="anchor" href="#arg-rate"></a></dt>
<dd><p>Infusion rate. Optional.</p></dd>


<dt id="arg-ss">SS<a class="anchor" aria-label="anchor" href="#arg-ss"></a></dt>
<dd><p>steady-state flag. Optional.</p></dd>


<dt id="arg-addl">addl<a class="anchor" aria-label="anchor" href="#arg-addl"></a></dt>
<dd><p>A list of ADDL and II that will be applied to last
dose. This may be prefered if II and ADDL depend on covariates
- see examples. Optional.</p></dd>


<dt id="arg-addl-lastonly">addl.lastonly<a class="anchor" aria-label="anchor" href="#arg-addl-lastonly"></a></dt>
<dd><p>If ADDL and II are of length 1, apply only
to last event of a regimen? The default is `TRUE`.</p></dd>


<dt id="arg-col-id">col.id<a class="anchor" aria-label="anchor" href="#arg-col-id"></a></dt>
<dd><p>Default is to denote the dosing regimens by an ID
column. The name of the column can be modified using this
argument. Use `col.id=NA` to omit the column altogether. The
latter may be wanted if repeating the regimen for a number of
subjects after running `NMcreateDoses()`.</p></dd>


<dt id="arg-as-fun">as.fun<a class="anchor" aria-label="anchor" href="#arg-as-fun"></a></dt>
<dd><p>The default is to return data as a data.frame. Pass
a function (say `tibble::as_tibble`) in as.fun to convert to
something else. If data.tables are wanted, use
as.fun="data.table". The default can be configured using
NMdataConf.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.frame with dosing events</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Only TIME and AMT are required. AMT, RATE, SS, II, ADDL,
    CMT are of length 1 or longer. Those not of max length 1 are
    repeated.  If TIME is longer than those, they are extended to
    match length of TIME. All these arguments can be data.frames
    with additional columns that define distinct dosing regimens -
    with distinct subject ids. However, if covariates are applied
    to ADDL+II, see the addl argument and see examples.</p>
<p>Allowed combinations of
    AMT, RATE, SS, II here:
    <a href="https://ascpt.onlinelibrary.wiley.com/doi/10.1002/psp4.12404" class="external-link">https://ascpt.onlinelibrary.wiley.com/doi/10.1002/psp4.12404</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Users should not use setDTthreads. This is for CRAN to only use 1 core.</span></span></span>
<span class="r-in"><span><span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/openmp-utils.html" class="external-link">setDTthreads</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co">## arguments are expanded - makes loading easy</span></span></span>
<span class="r-in"><span><span class="fu">NMcreateDoses</span><span class="op">(</span>TIME<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">12</span>,<span class="fl">24</span>,<span class="fl">36</span><span class="op">)</span>,AMT<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID TIME EVID CMT AMT MDV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    0    1   1   2   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1   12    1   1   1   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1   24    1   1   1   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  1   36    1   1   1   1</span>
<span class="r-in"><span><span class="co">## Different doses by covariate</span></span></span>
<span class="r-in"><span><span class="fu">NMcreateDoses</span><span class="op">(</span>TIME<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">12</span>,<span class="fl">24</span><span class="op">)</span>,AMT<span class="op">=</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>AMT<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">2</span><span class="op">)</span>,DOSE<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID TIME EVID CMT AMT MDV DOSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    0    1   1   2   1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1   12    1   1   4   1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1   24    1   1   4   1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2    0    1   1   1   1    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2   12    1   1   2   1    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2   24    1   1   2   1    2</span>
<span class="r-in"><span><span class="co">## Make Nonmem repeat the last dose. This is a total of 20 dosing events.</span></span></span>
<span class="r-in"><span><span class="co">## The default, addl.lastonly=TRUE means if ADDL and II are of</span></span></span>
<span class="r-in"><span><span class="co">## length 1, they only apply to last event.</span></span></span>
<span class="r-in"><span><span class="fu">NMcreateDoses</span><span class="op">(</span>TIME<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">12</span><span class="op">)</span>,AMT<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>,ADDL<span class="op">=</span><span class="fl">9</span><span class="op">*</span><span class="fl">2</span>,II<span class="op">=</span><span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID TIME EVID CMT AMT II ADDL MDV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    0    1   1   2 NA   NA   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1   12    1   1   1 12   18   1</span>
<span class="r-in"><span><span class="va">dt.amt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>DOSE<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">400</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## multiple dose regimens. </span></span></span>
<span class="r-in"><span><span class="co">## Specifying the time points explicitly</span></span></span>
<span class="r-in"><span><span class="va">dt.amt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>AMT<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">100</span>,<span class="fl">800</span>,<span class="fl">400</span><span class="op">)</span><span class="op">*</span><span class="fl">1000</span>,DOSE<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">100</span>,<span class="fl">400</span>,<span class="fl">400</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doses.md.1</span> <span class="op">&lt;-</span> <span class="fu">NMcreateDoses</span><span class="op">(</span>TIME<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,by<span class="op">=</span><span class="fl">24</span>,length.out<span class="op">=</span><span class="fl">7</span><span class="op">)</span>,AMT<span class="op">=</span><span class="va">dt.amt</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doses.md.1</span><span class="op">$</span><span class="va">dose</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">doses.md.1</span><span class="op">$</span><span class="va">DOSE</span>,<span class="st">"mg"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doses.md.1</span><span class="op">$</span><span class="va">regimen</span> <span class="op">&lt;-</span> <span class="st">"QD"</span></span></span>
<span class="r-in"><span><span class="va">doses.md.1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ID TIME EVID CMT   AMT MDV DOSE   dose regimen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1    0    1   1 2e+05   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1   24    1   1 1e+05   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1   48    1   1 1e+05   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1   72    1   1 1e+05   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   1   96    1   1 1e+05   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1  120    1   1 1e+05   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   1  144    1   1 1e+05   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   2    0    1   1 8e+05   1  400 400 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   2   24    1   1 4e+05   1  400 400 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  2   48    1   1 4e+05   1  400 400 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  2   72    1   1 4e+05   1  400 400 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  2   96    1   1 4e+05   1  400 400 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  2  120    1   1 4e+05   1  400 400 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  2  144    1   1 4e+05   1  400 400 mg      QD</span>
<span class="r-in"><span><span class="co">## or using ADDL+II</span></span></span>
<span class="r-in"><span><span class="va">dt.amt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>AMT<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">100</span>,<span class="fl">800</span>,<span class="fl">400</span><span class="op">)</span><span class="op">*</span><span class="fl">1000</span>,DOSE<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">100</span>,<span class="fl">400</span>,<span class="fl">400</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doses.md.2</span> <span class="op">&lt;-</span> <span class="fu">NMcreateDoses</span><span class="op">(</span>TIME<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">24</span><span class="op">)</span>,AMT<span class="op">=</span><span class="va">dt.amt</span>,addl<span class="op">=</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>ADDL<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span><span class="op">)</span>,II<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">24</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doses.md.2</span><span class="op">$</span><span class="va">dose</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">doses.md.2</span><span class="op">$</span><span class="va">DOSE</span>,<span class="st">"mg"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doses.md.2</span><span class="op">$</span><span class="va">regimen</span> <span class="op">&lt;-</span> <span class="st">"QD"</span></span></span>
<span class="r-in"><span><span class="va">doses.md.2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID TIME EVID CMT   AMT II ADDL MDV DOSE   dose regimen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    0    1   1 2e+05  0    0   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1   24    1   1 1e+05 24    5   1  100 100 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  2    0    1   1 8e+05  0    0   1  400 400 mg      QD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2   24    1   1 4e+05 24    5   1  400 400 mg      QD</span>
<span class="r-in"><span><span class="co">## ADDL and II can be wrapped in a data.frame. This allows including covariates</span></span></span>
<span class="r-in"><span><span class="fu">NMcreateDoses</span><span class="op">(</span>TIME<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">12</span><span class="op">)</span>,AMT<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>,addl<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ADDL<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">9</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span>,II<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">12</span><span class="op">)</span>,trt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID TIME EVID CMT AMT II ADDL MDV trt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    0    1   1   2 NA   NA   1   A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1   12    1   1   1 NA   NA   1   A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  2    0    1   1   2 NA   NA   1   B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2   12    1   1   1 12   18   1   B</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Philip Delff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>



  <script data-goatcounter="https://nmsim.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body></html>

