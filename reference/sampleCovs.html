<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Sample subject-level covariates from an existing data set — sampleCovs • NMsim</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Sample subject-level covariates from an existing data set — sampleCovs"><meta name="description" content="Repeats a data set with just one subject by sampling covariates
from subjects in an existing data set. This can conveniently be
used to generate new subjects with covariate resampling from an
studied population."><meta property="og:description" content="Repeats a data set with just one subject by sampling covariates
from subjects in an existing data set. This can conveniently be
used to generate new subjects with covariate resampling from an
studied population."><meta name="google-site-verification" content="-8n-8OfzJii_lVruWfxXOhzUATKSgMdiSxMhOQoscu4"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NMsim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/NMsim-intro.html">NMsim Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-VPC.html">Simulations for VPCs</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-config.html">Requirements and Configuration</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-known.html">Simulate Known Subjects</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-ParamUncertain.html">Simulations with Parameter Uncertainty</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-forest.html">Simulation-based forest plots with NMsim</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-DataCreate.html">Data Set Creation with NMsim</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-ResidVar.html">Simulation with Residual Variability</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-varyPars.html">Simulate Models with Modifications</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-ReuseSimSubjects.html">Reuse Simulated Subjects</a></li>
    <li><a class="dropdown-item" href="../articles/NMsim-speed.html">Debugging, Speed, and Disk Space</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/NMsim-publications.html">Publications</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NMautoverse/NMsim/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NMautoverse/NMsim/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Sample subject-level covariates from an existing data set</h1>
      <small class="dont-index">Source: <a href="https://github.com/NMautoverse/NMsim/blob/main/R/sampleCovs.R" class="external-link"><code>R/sampleCovs.R</code></a></small>
      <div class="d-none name"><code>sampleCovs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Repeats a data set with just one subject by sampling covariates
from subjects in an existing data set. This can conveniently be
used to generate new subjects with covariate resampling from an
studied population.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sampleCovs</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">Nsubjs</span>,</span>
<span>  col.id <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span>  col.id.covs <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span>  <span class="va">data.covs</span>,</span>
<span>  <span class="va">covs</span>,</span>
<span>  <span class="va">seed.R</span>,</span>
<span>  <span class="va">as.fun</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A simulation data set with only one subject</p></dd>


<dt id="arg-nsubjs">Nsubjs<a class="anchor" aria-label="anchor" href="#arg-nsubjs"></a></dt>
<dd><p>The number of subjects to be sampled. This can be
greater than the number of subjects in data.covs.</p></dd>


<dt id="arg-col-id">col.id<a class="anchor" aria-label="anchor" href="#arg-col-id"></a></dt>
<dd><p>Name of the subject ID column in `data` (default is "ID").</p></dd>


<dt id="arg-col-id-covs">col.id.covs<a class="anchor" aria-label="anchor" href="#arg-col-id-covs"></a></dt>
<dd><p>Name of the subject ID column in `data.covs`
(default is "ID").</p></dd>


<dt id="arg-data-covs">data.covs<a class="anchor" aria-label="anchor" href="#arg-data-covs"></a></dt>
<dd><p>The data set containing the subjects to sample covariates from.</p></dd>


<dt id="arg-covs">covs<a class="anchor" aria-label="anchor" href="#arg-covs"></a></dt>
<dd><p>The name of the covariates (columns) to sample from `data.covs`.</p></dd>


<dt id="arg-seed-r">seed.R<a class="anchor" aria-label="anchor" href="#arg-seed-r"></a></dt>
<dd><p>If provided, passed to `set.seed()`.</p></dd>


<dt id="arg-as-fun">as.fun<a class="anchor" aria-label="anchor" href="#arg-as-fun"></a></dt>
<dd><p>The default is to return data as a data.frame. Pass
a function (say `tibble::as_tibble`) in as.fun to convert to
something else. If data.tables are wanted, use
as.fun="data.table". The default can be configured using
NMdataConf.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.frame</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nmautoverse.github.io/NMdata/" class="external-link">NMdata</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NMdata 0.2.0. Browse NMdata documentation at</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> https://NMautoverse.github.io/NMdata/</span>
<span class="r-in"><span><span class="va">data.covs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://nmautoverse.github.io/NMdata/reference/NMscanData.html" class="external-link">NMscanData</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/nonmem/xgxr134.mod"</span>,package<span class="op">=</span><span class="st">"NMsim"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model:  xgxr134 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Used tables, contents shown as used/total:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   file     rows columns   IDs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        xgxr134_res.txt  731/731   12/12 90/90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       xgxr134_etas.txt  731/731     5/5 90/90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  xgxr2covs.rds (input) 731/1502   24/26 90/90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               (result)      731    41+2    90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Input and output data merged by: ROW </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Distribution of rows on event types in returned data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  EVID CMT output result</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0   2    641    641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1   1     90     90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   All All    731    731</span>
<span class="r-in"><span><span class="va">dos.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="NMcreateDoses.html">NMcreateDoses</a></span><span class="op">(</span>TIME<span class="op">=</span><span class="fl">0</span>,AMT<span class="op">=</span><span class="fl">100</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="va">data.sim.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="NMaddSamples.html">NMaddSamples</a></span><span class="op">(</span><span class="va">dos.1</span>,TIME<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span>,CMT<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">sampleCovs</span><span class="op">(</span>data<span class="op">=</span><span class="va">data.sim.1</span>,Nsubjs<span class="op">=</span><span class="fl">3</span>,col.id.covs<span class="op">=</span><span class="st">"ID"</span>,data.covs<span class="op">=</span><span class="va">data.covs</span>,covs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WEIGHTB"</span>,<span class="st">"eff0"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Column(s) added: WEIGHTB, eff0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID IDCOVS WEIGHTB   eff0 TIME EVID CMT AMT MDV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    135  117.55 55.676    0    1   1 100   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1    135  117.55 55.676    1    2   2  NA   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1    135  117.55 55.676    4    2   2  NA   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2    113  114.26 49.663    0    1   1 100   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2    113  114.26 49.663    1    2   2  NA   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2    113  114.26 49.663    4    2   2  NA   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  3    166  101.18 59.792    0    1   1 100   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  3    166  101.18 59.792    1    2   2  NA   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  3    166  101.18 59.792    4    2   2  NA   1</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Philip Delff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>



  <script data-goatcounter="https://nmsim.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body></html>

